<div>
	<div class="modal-header" id="idle-modal.header">Single Upload
		<button type="button" class="close" (click)="closeModal()" aria-label="Close">
			<span aria-hidden="true">Ã—</span>
		</button>
	</div>
	<div class="modal-body">
		<!-- <p> {{ type }}</p> -->

		<mat-horizontal-stepper #stepper class="singleUpload" labelPosition="bottom">
			<ng-template matStepperIcon="edit"><i class="fa fa-dot-circle-o"></i></ng-template>
			<ng-template matStepperIcon="done"><i class="fa fa-check"></i></ng-template>
			<mat-step [stepControl]="knowledgeAreaFormGroup">
				<form [formGroup]="knowledgeAreaFormGroup">
					<ng-template matStepLabel>Select</ng-template>
					<div class="kaForm">
						<!-- class="row" -->
						<div>
							<!-- class="col-3" -->
							<div><label class="font-weight-bold mtopka" for="knowledgeArea">Knowledge
									Area *</label></div>
									<!-- class="col-9" desClass -->
							<div >
								<select class="form-control" [(ngModel)]="selectedknowledgeArea" required formControlName="knowledgeAreaCtrl" required>
									<!-- <option [value]=''>Select</option> -->
									<option value="Lesson Learnt">Lesson Learnt</option>
                    
								</select> 
								<!-- <ds-create-collection-parent-selector></ds-create-collection-parent-selector> -->
							</div>
						</div>
						<div>
							<div ><label class="font-weight-bold mtopka" for="knowledgeArea">Department *</label>
							</div>
							<div >
								<ds-themed-create-item-parent-selector [(ngModel)]="selectedDepartment" required>
								</ds-themed-create-item-parent-selector>
							</div>
						</div>
					</div>
					
					<!-- <ds-submission-edit></ds-submission-edit> -->


					<!-- <ds-authorized-collection-selector [currentDSOId]="dsoRD?.payload.uuid"
                                       [entityType]="entityType"
                                       [types]="selectorTypes"
                                       (onSelect)="selectObject($event)"></ds-authorized-collection-selector> -->

					<!-- <ds-entity-dropdown [isSubmission]="true" (selectionChange)="openDialog($event)"></ds-entity-dropdown> -->
					<!-- <select class="form-control" [(ngModel)]="selectedknowledgeArea" name="knowledgeArea" id="knowledgeArea" formControlName="knowledgeAreaCtrl" required>
						<option *ngFor="let knowledgeArea of knowledgeAreaList" [value]="knowledgeArea.value">{{ knowledgeArea.viewValue }}
						</option>
					</select> -->
					<!-- <mat-form-field>
						<mat-select [(value)]="selectedknowledgeArea">
							<mat-option *ngFor="let knowledgeArea of knowledgeAreaList" [value]="knowledgeArea.value">  
								{{knowledgeArea.viewValue}}  
							</mat-option>
						</mat-select>

						</mat-form-field> -->


				</form>
			</mat-step>
			<mat-step [stepControl]="secondFormGroup">
				<form [formGroup]="secondFormGroup" style="display: grid;overflow: auto;">
					<ng-template matStepLabel>Describe</ng-template>


					<ds-submission-form [collectionId]="collectionId" [sections]="sections" [selfUrl]="selfUrl"
						[submissionDefinition]="submissionDefinition" [submissionErrors]="submissionErrors" style="width: 850px;"
						[item]="item" [collectionModifiable]="collectionModifiable" [submissionId]="submissionId">
					</ds-submission-form>
					<!-- <div *ngFor="let fields of qaMetadatafields" class="row">
						<div class="col-3">
							<label class="font-weight-bold " for="knowledgeArea">{{fields.fields[0].label}} </label>
							<span *ngIf="fields.fields[0].mandatory" style="color: red;">*</span>
						</div>
						<div class="col-9">
							<span *ngIf="fields.fields[0].input.type == 'onebox'">
								<input class="desClass form-control"  [formControlName]="fields.fields[0].label" [id]="fields.fields[0].label">
							</span>

							<span *ngIf="fields.fields[0].input.type == 'dropdown'">
								<select class="desClass form-control" [formControlName]="fields.fields[0].label" [id]="fields.fields[0].label">
									<option [value]=''>Select</option>
									<option *ngFor="let value of fields.fields[0].selectableMetadata[0].dropdownValuesDisplayed" [value]="value">{{ value }}
									</option>
								</select> 
							</span>
						</div>
					</div> -->
					<!-- <div class="row">
						<div class="col-3">
							<label class="font-weight-bold " for="knowledgeArea">Title </label> &nbsp;&nbsp;
						</div>
						<div class="col-9">
							<input class="desClass form-control" placeholder="Enter the name of the file">

						</div>

					</div>
					<div class="row">
						<div class="col-3">
							<label class="font-weight-bold " for="knowledgeArea">Project </label> &nbsp;&nbsp;
						</div>
						<div class="col-9">
							<input class="desClass form-control" placeholder="Enter the name of the file">
						</div>
					</div>
					<div class="row">
						<div class="col-3">
							<label class="font-weight-bold " for="knowledgeArea">MLH Category </label> &nbsp;&nbsp;
						</div>
						<div class="col-9">
							<input class="desClass form-control" placeholder="Enter the MLH Category">
						</div>
					</div>
					<div class="row">
						<div class="col-3">
							<label class="font-weight-bold " for="knowledgeArea">Reference DCR/ECN/PTS </label>
							&nbsp;&nbsp;
						</div>
						<div class="col-9">
							<input class="desClass form-control" placeholder="Enter the Reference DCR/ECN/PTS">
						</div>
					</div>
					<div class="row">
						<div class="col-3">
							<label class="font-weight-bold " for="knowledgeArea">Occurrence (ppm/numbers) </label>
							&nbsp;&nbsp;
						</div>
						<div class="col-9">
							<input class="desClass form-control" placeholder="Enter the Occurrence (ppm/numbers)">
						</div>
					</div>
					<div class="row">
						<div class="col-3">
							<label class="font-weight-bold " for="knowledgeArea">Issue Description </label> &nbsp;&nbsp;
						</div>
						<div class="col-9">
							<input class="desClass form-control" placeholder="Enter the Issue Description">
						</div>
					</div>
					<div class="row">
						<div class="col-3">
							<label class="font-weight-bold " for="knowledgeArea">Issue Category</label> &nbsp;&nbsp;
						</div>
						<div class="col-9">
							<input class="desClass form-control" placeholder="Enter the Issue Category">
						</div>
					</div>
					<div class="row">
						<div class="col-3">
							<label class="font-weight-bold " for="knowledgeArea">Associated parts and their
								application</label> &nbsp;&nbsp;
						</div>
						<div class="col-9">
							<input class="desClass form-control"
								placeholder="Enter the Associated parts and their application">
						</div>
					</div> -->

					<!-- <label class="font-weight-bold " for="knowledgeArea">MLH Category </label> &nbsp;&nbsp;
					<input class="desClass form-control" placeholder="Enter the MLH Category">
					<br>
					<label class="font-weight-bold " for="knowledgeArea">Reference DCR/ECN/PTS </label> &nbsp;&nbsp;
					<input class="desClass form-control" placeholder="Enter the Reference DCR/ECN/PTS">
					<br>
					<label class="font-weight-bold " for="knowledgeArea">Occurrence (ppm/numbers) </label> &nbsp;&nbsp;
					<input class="desClass form-control" placeholder="Enter the Occurrence (ppm/numbers)">
					<br>
					<label class="font-weight-bold " for="knowledgeArea">Issue Description </label> &nbsp;&nbsp;
					<input class="desClass form-control" placeholder="Enter the Issue Description">
					<br> -->

				</form>
			</mat-step>
			<mat-step [stepControl]="thirdFormGroup">
				<form [formGroup]="thirdFormGroup">
					<ng-template matStepLabel>Upload</ng-template>
					<ds-submission-form [collectionId]="collectionId" [sections]="sections" [selfUrl]="selfUrl"
						[submissionDefinition]="submissionDefinition" [submissionErrors]="submissionErrors"
						[item]="item" [collectionModifiable]="collectionModifiable" [submissionId]="submissionId">
					</ds-submission-form>
					<!-- <div *ngIf="(uploadEnabled$ | async)" class="w-100"> -->
					<!-- <ds-submission-upload-files [submissionId]="submissionId"
													[collectionId]="collectionId"
													[uploadFilesOptions]="uploadFilesOptions"></ds-submission-upload-files>
						<div class="clearfix"></div> -->
					<!-- </div> -->
					<!-- <mat-form-field> -->
					<!-- <ds-file-upload class="file-upload uploadDiv" (filesChanged)="setFileList($event)">
						<div style="display: block;text-align: center;">
							<i class="fa fa-arrow-circle-up icon" aria-hidden="true"></i>

							<div style="display:flex;"> Drag and drop files here</div>
							<div>
								{{ fileList1 | json }}
							</div>
						</div>

					</ds-file-upload> -->
					<!-- <div class="uploadDiv">
							<div style="color: white;font-size: 24px;">
								<i class="fa fa-arrow-circle-up" aria-hidden="true"></i>
								<i class="fa fa-arrow-circle-o-up" aria-hidden="true"></i>
								<div>
									<span>Select Files or Drag and Drop Here</span>
								</div>
							</div>
							
							
							<input type="file" name="filefield" multiple formControlName="thirdCtrl" required >
						</div> -->

					<!-- </mat-form-field> -->

				</form>
			</mat-step>
			<mat-step [stepControl]="fourthFormGroup">
				<ng-template matStepLabel>Verify</ng-template>
				<form [formGroup]="fourthFormGroup" style="display: block;" *ngIf="currentState == 3">
					<!-- <ds-submission-form [collectionId]="collectionId" [sections]="sectionObjForFileList.sections"
						[selfUrl]="selfUrl" [submissionDefinition]="submissionDefinition"
						[submissionErrors]="submissionErrors" [item]="item"
						[collectionModifiable]="collectionModifiable" [submissionId]="submissionId">
					</ds-submission-form> -->

					<ds-file-list [fileList]="fileList1" [submissionId]="submissionId" [collectionId]="collectionId" [uploadLink]="uploadLink"></ds-file-list>

				</form>
			</mat-step>
			<mat-step [completed]="completed" [state]="state">
				<ng-template matStepLabel>Complete</ng-template>
				<span class="confirm">
					Are you sure to upload this document
				</span>
				

			</mat-step>
		</mat-horizontal-stepper>
	</div>
	<div class="modal-footer">
		<!-- <div>
        <button type="button" class="cancel btn next cancelbtn" (click)="closeModal()" aria-label="Log out">
          Pervious
         </button> 
      </div>
      <button type="button" class="cancel btn next cancelbtn" (click)="closeModal()" aria-label="Log out">
       Cancel
      </button> 
      &nbsp;&nbsp;
      <button type="button" class="cancel btn next" (click)="closeModal()" aria-label="Log out">
        Next
      </button>  -->
		<button (click)="goBack(stepper)" type="button" class="mr-auto cancel btn next cancelbtn "
			*ngIf="currentState != 0">Pervious</button>
		<button type="button" class="cancel btn next cancelbtn" (click)="cancel()" aria-label="Log out">
			Cancel
		</button>
		&nbsp;&nbsp;
		<button *ngIf="currentState >= 1" type="button" class="cancel btn next primary" (click)="saveAsDraft()"
			aria-label="Log out">
			Save as Draft
		</button>
		<span *ngIf="currentState >= 1">&nbsp;&nbsp;</span>
		<button (click)="goForward(stepper)" type="button" class="cancel btn next" *ngIf="currentState != 4"
		[disabled]="checkForms()">Next</button>
			<!--  -->
		<button type="button" class="cancel btn next" (click)="done()" *ngIf="currentState == 4">Confirm</button>
		<!-- <ds-submission-form-footer [submissionId]="submissionId"></ds-submission-form-footer> -->

		<!-- <button type="button" class="confirm btn btn-primary" (click)="extendSessionPressed()" aria-label="Extend session" ngbAutofocus>
        <i class="fas fa-redo-alt"></i> {{ "idle-modal.extend-session" | translate }}
      </button> -->
	</div>
</div>