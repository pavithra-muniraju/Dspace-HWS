<!-- <mat-table #table [dataSource]="dataSource" matSort>
    <ng-container matColumnDef="{{column.id}}" *ngFor="let column of columnNames">
      <mat-header-cell *matHeaderCellDef mat-sort-header> {{column.value}}</mat-header-cell>
      <mat-cell *matCellDef="let element"> {{element[column.id]}}</mat-cell>
    </ng-container>
  
    <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
    <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
  </mat-table>

   -->
<form [formGroup]="VOForm" autocomplete="off">
    <ng-container formArrayName="VORows">
        <table #table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
            
            <!-- Name Column -->
            <ng-container matColumnDef="name">
                <th mat-header-cell *matHeaderCellDef>File Name</th>
                <td mat-cell *matCellDef="let element; let i = index" [formGroup]="element">
                    <!-- <span [hidden]="VOForm.get('VORows').value[i].isEditable"> -->
                    <mat-form-field style="width: 70px"
                       >
                        <input matInput type="text" formControlName="name"
                            [readonly]="VOForm.get('VORows').value[i].isEditable" />
                    </mat-form-field>
                    <!-- </span> -->
                </td>
            </ng-container>

            <!-- Weight Column -->
            <ng-container matColumnDef="size">
                <th mat-header-cell *matHeaderCellDef>Size</th>
                <td mat-cell *matCellDef="let element; let i = index" [formGroup]="element">
                    <!-- [appearance]="true ? 'outline': 'fill'" -->
                    <!-- <span [hidden]="VOForm.get('VORows').value[i].isEditable"> -->
                    <mat-form-field style="width: 70px"
                      >
                        <input matInput type="text" formControlName="weight"
                            [readonly]="VOForm.get('VORows').value[i].isEditable" />
                    </mat-form-field>
                    <!-- </span> -->
                </td>
            </ng-container>

            <!-- description Column -->
            <ng-container matColumnDef="description">
                <th mat-header-cell *matHeaderCellDef>Description</th>
                <td mat-cell *matCellDef="let element; let i = index" [formGroup]="element">
                    <mat-form-field style="width: 70px" >
                        <input matInput type="text" formControlName="description" [readonly]="true" />
                    </mat-form-field>
                </td>
            </ng-container>

            <!-- format Column -->
            <ng-container matColumnDef="format">
                <th mat-header-cell *matHeaderCellDef>Format</th>
                <td mat-cell *matCellDef="let element; let i = index" [formGroup]="element">
                    <!-- <span [hidden]="VOForm.get('VORows').value[i].isEditable"> -->
                    <mat-form-field style="width: 70px"
                       >
                        <input matInput type="text" formControlName="format"
                            [readonly]="VOForm.get('VORows').value[i].isEditable" />
                    </mat-form-field>
                    <!-- </span> -->
                </td>
            </ng-container>

            <ng-container matColumnDef="action">
                <th mat-header-cell *matHeaderCellDef>Action</th>
                <td mat-cell *matCellDef="let element; let i = index" [formGroup]="element">
                    <button mat-icon-button class="material-icons app-toolbar-menu save-button"
                        matTooltip="Save Changes" (click)="SaveVO(VOForm,i)"
                        *ngIf="!VOForm.get('VORows').value[i].isEditable" color="primary">
                        <mat-icon>check_circle</mat-icon>
                    </button>

                    <button mat-icon-button class="material-icons app-toolbar-menu cancel-button"
                        matTooltip="Cancel Changes" color="warn" (click)="CancelSVO(VOForm,i)"
                        *ngIf="!VOForm.get('VORows').value[i].isEditable">
                        <mat-icon>cancel</mat-icon>
                    </button>

                    <button mat-icon-button class="material-icons app-toolbar-menu save-button"
                        *ngIf="VOForm.get('VORows').value[i].isEditable" matTooltip="Edit" color="primary"
                        (click)="EditSVO(VOForm,i)">
                        <mat-icon>edit</mat-icon>
                    </button>

                    <button mat-icon-button class="material-icons app-toolbar-menu delete-button"
                        *ngIf="VOForm.get('VORows').value[i].isEditable" matTooltip="Delete" color="warn" (click)="deleteRow(i)">
                        <mat-icon>delete</mat-icon>
                    </button>
                </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

            <!-- Row shown when there is no matching data. -->
            <!-- <tr class="mat-row" *matNoDataRow>
          <td class="mat-cell" colspan="4">
            No data matching the filter "{{input.value}}"
          </td>
        </tr> -->
        </table>
    </ng-container>
</form>